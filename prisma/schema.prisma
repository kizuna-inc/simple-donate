generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model BankingConfig {
  id        Int      @id @default(autoincrement())
  name      String
  type      Int
  no        String
  bank      String
  user_id   Int
  create_at DateTime @default(now()) @db.Timestamptz(6)
  update_at DateTime @default(now()) @db.Timestamptz(6)
  User      User     @relation(fields: [user_id], references: [id])
}

model Transection {
  id            String   @id @default(uuid()) @db.Uuid
  name          String
  amount        Int
  transactionID String   @unique
  create_at     DateTime @default(now()) @db.Timestamptz(6)
  message       String
}

model User {
  id            Int             @id @default(autoincrement())
  username      String          @unique
  password      String
  create_at     DateTime        @default(now()) @db.Timestamptz(6)
  update_at     DateTime        @default(now()) @db.Timestamptz(6)
  BankingConfig BankingConfig[]
  UserConfig    UserConfig[]
}

model UserConfig {
  id              Int      @id @default(autoincrement())
  user_id         Int
  name            String
  description     String
  profileImage    String
  backgroundImage String
  create_at       DateTime @default(now()) @db.Timestamptz(6)
  update_at       DateTime @default(now()) @db.Timestamptz(6)
  User            User     @relation(fields: [user_id], references: [id])
}

model StreamAlert {
  id        Int      @id @default(autoincrement())
  image     String   @default("static/upload/cdn/alert.gif")
  sound     String   @default("static/upload/cdn/alert.mp3")
  text      String   @default("thank you --user-- for --amount-- THB")
  create_at DateTime @default(now()) @db.Timestamptz(6)
  update_at DateTime @default(now()) @db.Timestamptz(6)
}

model StreamConfig {
  id            Int      @id @default(autoincrement())
  min_amount    Int      @default(10)
  banking_order Int[]
  create_at     DateTime @default(now()) @db.Timestamptz(6)
  update_at     DateTime @default(now()) @db.Timestamptz(6)
}

model CustomGift {
  id        Int      @id @default(autoincrement())
  amount    Int
  image     String
  create_at DateTime @default(now()) @db.Timestamptz(6)
  update_at DateTime @default(now()) @db.Timestamptz(6)
}

model Goal {
  id             Int      @id @default(autoincrement())
  current_amount Int
  target_amount  Int
  is_active      Boolean  @default(true)
  end_at         DateTime @default(now()) @db.Timestamptz(6)
  create_at      DateTime @default(now()) @db.Timestamptz(6)
  update_at      DateTime @default(now()) @db.Timestamptz(6)
}
